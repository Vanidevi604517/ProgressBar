var xhttp=new XMLHttpRequest;function createButtons(e){var t=e.buttons,n=e.limit,r="";Object.keys(t).map(function(e){return r+='<button type="button" class="btn btn-sm btn-outline-secondary btcls" data-value="'+n+'"  id="'+t[e]+'" onclick="barAnimation(this.id);">'+t[e]+"</button>"});document.getElementById("id01").innerHTML=r}function createBar(e){var t=e.bars,n="";pSelect=document.getElementById("p1");Object.keys(t).map(function(e){return pSelect.options[pSelect.options.length]=new Option("Progress "+(Number(e)+1),t[e]),n+='<div class="progress brcls"><div class="progress-bar" id="barID_'+e+'" style="width:'+t[e]+'%;">'+t[e]+"</div></div><br>"});document.getElementById("id02").innerHTML=n}function barAnimation(e){var t=document.getElementById(e).getAttribute("data-value"),n=document.getElementById("p1").options[document.getElementById("p1").selectedIndex].text.match(/\d/g).join(""),r=document.getElementById("barID_"+(n-1)).innerHTML.replace(/[^a-zA-Z0-9 ]/g,"");Number(r)+Number(e)>=0?(document.getElementById("barID_"+(n-1)).style.width=Number(r)+Number(e)+"%",document.getElementById("barID_"+(n-1)).innerHTML=Number(r)+Number(e)+"%",Number(r)+Number(e)>t?document.getElementById("barID_"+(n-1)).classList.add("bg-danger"):document.getElementById("barID_"+(n-1)).classList.remove("bg-danger")):alert("Bar should not be less than 0")}xhttp.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);createButtons(e),createBar(e)}},xhttp.open("GET","http://pb-api.herokuapp.com/bars",!0),xhttp.send();