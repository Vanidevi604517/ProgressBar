var xhttp=new XMLHttpRequest;function createButtons(e){var t,n=e.buttons,a=e.limit,s="";for(t=0;t<Object.keys(n).length;t++)s+='<button type="button" class="btn btn-sm btn-outline-secondary btcls" data-value="'+a+'"  id="'+Object.values(n)[t]+'" onclick="barAnimation(this.id);">'+Object.values(n)[t]+"</button>";document.getElementById("id01").innerHTML=s}function createBars(e){var t,n=e.bars,a="";for(pSelect=document.getElementById("p1"),t=0;t<Object.keys(n).length;t++)a+='<div class="progress brcls"><div class="progress-bar" id="barID_'+t+'" style="width:'+Object.values(n)[t]+'%;">'+Object.values(n)[t]+"</div></div><br>",pSelect.options[pSelect.options.length]=new Option("Progress "+(t+1),Object.values(n)[t]),0==t&&(pSelect.options[t].selected=!0);document.getElementById("id02").innerHTML=a}function barAnimation(e){var t=document.getElementById(e).getAttribute("data-value"),n=document.getElementById("p1").options[document.getElementById("p1").selectedIndex].text.match(/\d/g).join(""),a=document.getElementById("barID_"+(n-1)).innerHTML.replace(/[^a-zA-Z0-9 ]/g,"");Number(a)+Number(e)>=0?(document.getElementById("barID_"+(n-1)).style.width=Number(a)+Number(e)+"%",document.getElementById("barID_"+(n-1)).innerHTML=Number(a)+Number(e)+"%",Number(a)+Number(e)>t?document.getElementById("barID_"+(n-1)).classList.add("bg-danger"):document.getElementById("barID_"+(n-1)).classList.remove("bg-danger")):alert("Bar should not be less than 0")}xhttp.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);createButtons(e),createBars(e)}},xhttp.open("GET","http://pb-api.herokuapp.com/bars",!0),xhttp.send();